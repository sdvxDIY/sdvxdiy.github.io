<!DOCTYPE html>
<html><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<script src="Pancake.io_files/nr-918.js"></script><script src="Pancake.io_files/ga.js" async="" type="text/javascript"></script><script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"bam.nr-data.net","errorBeacon":"bam.nr-data.net","licenseKey":"e7f564513b","applicationID":"2031336","transactionName":"cQwPRhNXWFtQShlFTVAPCFFOUVpTUEA=","queueTime":0,"applicationTime":900,"agent":""}</script>
<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var o=t[n]={exports:{}};e[n][0].call(o.exports,function(t){var o=e[n][1][t];return r(o||t)},o,o.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,n){function r(e,t){return function(){o(e,[(new Date).getTime()].concat(a(arguments)),null,t)}}var o=e("handle"),i=e(2),a=e(3);"undefined"==typeof window.newrelic&&(newrelic=NREUM);var u=["setPageViewName","addPageAction","setCustomAttribute","finished","addToTrace","inlineHit"],c=["addPageAction"],f="api-";i(u,function(e,t){newrelic[t]=r(f+t,"api")}),i(c,function(e,t){newrelic[t]=r(f+t)}),t.exports=newrelic,newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),o("err",[e,(new Date).getTime()])}},{}],2:[function(e,t,n){function r(e,t){var n=[],r="",i=0;for(r in e)o.call(e,r)&&(n[i]=t(r,e[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],3:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,o=n-t||0,i=Array(0>o?0:o);++r<o;)i[r]=e[t+r];return i}t.exports=r},{}],ee:[function(e,t,n){function r(){}function o(e){function t(e){return e&&e instanceof r?e:e?u(e,a,i):i()}function n(n,r,o){e&&e(n,r,o);for(var i=t(o),a=l(n),u=a.length,c=0;u>c;c++)a[c].apply(i,r);var s=f[g[n]];return s&&s.push([m,n,r,i]),i}function p(e,t){w[e]=l(e).concat(t)}function l(e){return w[e]||[]}function d(e){return s[e]=s[e]||o(n)}function v(e,t){c(e,function(e,n){t=t||"feature",g[n]=t,t in f||(f[t]=[])})}var w={},g={},m={on:p,emit:n,get:d,listeners:l,context:t,buffer:v};return m}function i(){return new r}var a="nr@context",u=e("gos"),c=e(2),f={},s={},p=t.exports=o();p.backlog=f},{}],gos:[function(e,t,n){function r(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[t]=r,r}var o=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){o.buffer([e],r),o.emit(e,t,n)}var o=e("ee").get("handle");t.exports=r,r.ee=o},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!w++){var e=v.info=NREUM.info,t=s.getElementsByTagName("script")[0];if(e&&e.licenseKey&&e.applicationID&&t){c(l,function(t,n){e[t]||(e[t]=n)});var n="https"===p.split(":")[0]||e.sslForHttp;v.proto=n?"https://":"http://",u("mark",["onload",a()],null,"api");var r=s.createElement("script");r.src=v.proto+e.agent,t.parentNode.insertBefore(r,t)}}}function o(){"complete"===s.readyState&&i()}function i(){u("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var u=e("handle"),c=e(2),f=window,s=f.document;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:f.XMLHttpRequest,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},e(1);var p=""+location,l={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-918.min.js"},d=window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent),v=t.exports={offset:a(),origin:p,features:{},xhrWrappable:d};s.addEventListener?(s.addEventListener("DOMContentLoaded",i,!1),f.addEventListener("load",r,!1)):(s.attachEvent("onreadystatechange",o),f.attachEvent("onload",r)),u("mark",["firstbyte",a()],null,"api");var w=0},{}]},{},["loader"]);</script>
  <title>Pancake.io</title>

  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <link rel="stylesheet" media="screen" href="Pancake.io_files/public.css">



  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(["_setAccount", "UA-26670425-1"]);
    _gaq.push(["_trackPageview"]);

    (function() {
      var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
      ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
      var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
  <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="oGT2kj1q/l8XmWz5HIcIDL6pI1Mr3/InXSRiv7yjxDOQFufY1Y7FRJAsQroSt8iEe+zwIx6BpkqTJGB0uD7FdA==">
</head>
<body>
  <div id="wrapper">
    

    <div id="container">
      <h1>LEONARDOjoy</h1>

<p>LEONARDOjoy is the latest in my project to allow rhythm game 
enthusiasts construct their own controllers. This is once again a code 
for allowing you to play the hit weeb game K-shoot MANIA. This code 
unlike my previvous attempts requires no hardware flashing, and uses 
M+KB emulation instead of relying on UNOjoy. However LEONARDOjoy is a 
very low level attempt at this, and can be used to make all kind of 
controllers keep an eye out for my IIDX tutorial coming soon(12/22/2015)</p>

<p>I hope you enjoy, and once again if you have any question feel free to contact me at:<br><br>
<a href="mailto:bemani@airmail.cc">bemani@airmail.cc</a></p>

<p>Looking for the old tutorials?<br>
<a href="http://sdvxii.pancakeapps.com/acrealio"><strong>Go to the ACrealIO Tutorial</strong></a><br>
<a href="http://sdvxii.pancakeapps.com/unojoy"><strong>Go to the UNOjoy</strong></a></p>

<p><img src="Pancake.io_files/11286-01.jpg" alt="Arduino Leonardo"></p>

<p><strong>QUICKLINKS</strong><br><br>
<a href="#Code">Code</a><br>
<a href="#Parts">Parts List</a><br>
<a href="#Install">Install</a><br>
<a href="#Building">Building A Controller</a><br>
<a href="#Graphics">Graphics</a><br>
<a href="#Gallery">Gallery</a></p>

<hr>

<h1><a name="Code"></a>Code</h1>

<p>Just download this code and upload it to your Arduino thorugh the Arduino IDE and your done! That was easy!<br>
<code><br>
http://pastebin.com/3ypgaRBd<br>
</code></p>

<hr>

<h1><a name="Parts"></a>Parts List</h1>

<p>This is similar to the SDVXjoy parts list just swap out a Leonardo 
for the Mega 2560. All parts are listed on eBay with the sizes refrenced
 so you can buy anywhere.</p>

<h3>Arduino</h3>

<p>Get an Arduino Leonardo R3. Chinese clones work fine yo.</p>

<p><a href="http://www.ebay.com/itm/171195656438">Arduino Leonardo: US SELLER <strong>$13</strong></a></p>

<h3>ENCODERS</h3>

<p>Get atleast 24ppr with no detents and you'll be fine. 20-25mm Shaft Height.</p>

<p><a href="http://www.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;itemSeq=158537394&amp;uq=635479650209433869">Lanman Encoders</a> The encoders from the Lanman Kit.</p>

<p><a href="http://www.mouser.com/Search/ProductDetail.aspx?R=PEC12R-4025F-S0024virtualkey65210000virtualkey652-PEC12R-4025F-S24">Bournes 24ppr, No detent, 25mm shaft, Switch <strong>$1</strong></a></p>

<p><a href="http://www.mouser.com/ProductDetail/Bourns/PEL12S-2024S-N3024/?qs=sGAEpiMZZMsWp46O%252bq11WTU2mLe3dQ9doksdYy18gMQ%3d">Bournes 24ppr, No detent, 25mm shaft, Switch, LED blue <strong>$2.50</strong></a></p>

<p><a href="http://www.ebay.com/itm/NEW-Incremental-Rotary-Encoder-600p-r-6mm-Shaft-5-24vdc-/290778912134?pt=LH_DefaultDomain_0&amp;hash=item43b3c61586">ARCADE QUALITY 600PPR <strong>$15</strong></a></p>

<h3>KNOBS</h3>

<p>Arcade Size are 30mm Wide.</p>

<p><a href="http://www.ebay.com/itm/1PCS-30mmDIAx22-Aluminum-STEREO-VOLUME-CONTROL-KNOB-/380905947186?pt=LH_DefaultDomain_0&amp;hash=item58afc38032">Aluminium Knobs <strong>$4</strong></a></p>

<h3>BUTTONS</h3>

<p>So you can use the full 60mm buttons or go ghetto mode here, I went 
ghetto mode with a pack of 7 Beatmania buttons that I used for every 
button on the controller.</p>

<p><a href="http://www.ebay.com/itm/7x-BEATMANIA-IIDX-DIY-LED-ILLUMINATED-RECTANGULAR-PUSH-BUTTON-5-Color-AVAILABLE-/171190044180?pt=LH_DefaultDomain_0&amp;hash=item27dbb8c614">7x Beatmania Buttons <strong>$24</strong></a>
 You can ask for custom colors. The springs are a little heavy, and the 
switches are heavy. But if you switch to a light Omron it should balance
 out. </p>

<h4>FX</h4>

<p>These are beatmania sized.</p>

<p><a href="http://global.rakuten.com/en/store/sanwadenshi/item/ilumb_098/?s-id=borderless_browsehist_en">Sanwas <strong>$12</strong></a></p>

<p><a href="http://www.ebay.com/itm/Arcade-Video-Game-DJ-Rectangle-Rectangular-Push-Button-LED-Lighted-Lamp-Red-/111458743722?pt=LH_DefaultDomain_0&amp;hash=item19f37575aa">Chinese <strong>$4.50</strong></a></p>

<h4>BT A-D</h4>

<p>60mmX60mm. Available from Chinese makers or Sanwa.</p>

<p><a href="http://www.aliexpress.com/item/3pcs-lot-Square-60-60mm-Lighted-Buttons-Illuminated-Push-Button-with-Micro-switch-for-Arcade-Music/2026226052.html">Aliexpress Chinese Buttons <strong>$30</strong></a> You can get them in sets of 4, just message the seller and ask.</p>

<p><a href="http://global.rakuten.com/en/store/sanwadenshi/item/ilumb_080/?s-id=borderless_browhttp://www.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;itemSeq=158537394&amp;uq=635479650209433869sehist_en">Sanwa Buttons <strong>$80</strong></a></p>

<h4>Start</h4>

<p>33mmX33mm Square, honestly just get another beatmania button, these are a fucking pain to source.</p>

<p><a href="http://www.ebay.com/itm/1x-Arcade-Video-Game-33mm-Blue-Square-Push-Button-Switch-Lamp-LED-Illuminated/111468734171?_trksid=p2047675.c100005.m1851&amp;_trkparms=aid%3D222007%26algo%3DSIC.MBE%26ao%3D1%26asc%3D25805%26meid%3De4b8df3781b24f3e905f39fdd8616ec6%26pid%3D100005%26prg%3D10778%26rk%3D2%26rkt%3D6%26sd%3D180760495909&amp;rt=nc">33mm Blue Square <strong>$3.50</strong></a></p>

<h3>Switches</h3>

<p>Use the switches that came with your Chinese buttons or upgrade to Omrons. Available from Mouser as well.<br>
<a href="http://global.rakuten.com/en/store/sanwadenshi/item/ilumb_223/?s-id=borderless_browsehist_en">Omron 50g <strong>$2.50</strong></a></p>

<hr>

<h1><a name="Install"></a>Installation</h1>

<p>So with this tutorial I'm going to go a little more indepth. 
Hopefully this will help those with little to no experince with this 
type of stuff get a better handle on it.</p>

<h3>Wiring</h3>

<p>Wiring a controller is incredibly simple once you have a few key concept down.<br>
A microswitch usually has three prongs, NO, NC, and Ground. For this 
tutorial we will only use the NO and Ground. While the button is presses
 it closes the circuit and sends a singal to the arduino registering the
 keypress in your game.</p>

<p><img src="Pancake.io_files/ldcMnPi.jpg" alt="Microswitch Layout"></p>

<p>For the the ground, the easiest ways is to make a Daisy-Chain, 
multiple wires that attach to the grounds of all buttons and encoders, 
then attach it to the ground terminal on the Arduino.</p>

<p><img src="Pancake.io_files/switches.JPG" alt="Microswitch Layout"></p>

<p>And for the encoders, most come with 3 pins, DATA A, DATA B, and 
GROUND(Usually inbetween the Data Pins). Each data pin needs to be wired
 to a certain point on the Arduino, while the ground can be in your 
daisychain. Some other encoders come with two additional pins to act as a
 button(Dont get these)</p>

<p><img src="Pancake.io_files/encoder.jpg" alt="Microswitch Layout"></p>

<h4>Pinout Diagram</h4>

<p>The Pins are assign to button presses on a keyboard, so You can 
configure them anyway you want in Bemanitools, or KSM. But this is the 
reccomended setup. Test and Service defined in the code but commented 
out, so it up to you if you want to have a physical button on your 
controller, or just use a regular input.</p>

<table><thead>
<tr>
<th>Button</th>
<th style="text-align: center">Pin #</th>
<th style="text-align: center">Keboard</th>
</tr>
</thead><tbody>
<tr>
<td>FxR</td>
<td style="text-align: center">4</td>
<td style="text-align: center">a</td>
</tr>
<tr>
<td>FxL</td>
<td style="text-align: center">A0</td>
<td style="text-align: center">b</td>
</tr>
<tr>
<td>BT-A</td>
<td style="text-align: center">A1</td>
<td style="text-align: center">c</td>
</tr>
<tr>
<td>BT-B</td>
<td style="text-align: center">A2</td>
<td style="text-align: center">d</td>
</tr>
<tr>
<td>BT-C</td>
<td style="text-align: center">A3</td>
<td style="text-align: center">e</td>
</tr>
<tr>
<td>BT-D</td>
<td style="text-align: center">A4</td>
<td style="text-align: center">f</td>
</tr>
<tr>
<td>Start</td>
<td style="text-align: center">A5</td>
<td style="text-align: center">g</td>
</tr>
<tr>
<td>Test</td>
<td style="text-align: center">A6</td>
<td style="text-align: center">-</td>
</tr>
<tr>
<td>Service</td>
<td style="text-align: center">A7</td>
<td style="text-align: center">-</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>ENCODERS</th>
<th style="text-align: center">DATA 1</th>
<th style="text-align: center">DATA 2</th>
</tr>
</thead><tbody>
<tr>
<td>Encoder Right</td>
<td style="text-align: center">0</td>
<td style="text-align: center">1</td>
</tr>
<tr>
<td>Encoder Left</td>
<td style="text-align: center">3</td>
<td style="text-align: center">2</td>
</tr>
</tbody></table>

<hr>

<h1><a name="Building"></a>Box buidling</h1>

<p>Tools needed<br>
 - Saw<br>
 - Drill<br>
 - Hole Saw Attachment 1-inch</p>

<p>All arcade buttons use about a 1-inch hole to thread the buttons in, 
so If you have this simple tool building a box becomes a lot easier. 
After following the spacing diagram and creating your panel, insert your
 buttons and lock them in with the nut. I recomend using a thin wood 
panel if your going to use a plexi panel on top(Be careful cutting plexi
 it can crack easy.)</p>

<p><img src="Pancake.io_files/20916-cutting-speaker-baffle-holes-bi_metal_hole_saw-jpg.htm" alt="Hole saw Attachment"></p>

<p>Spacing Diagram<br>
<img src="Pancake.io_files/zbEOaUx.png" alt="alt text" title="Dimensions"></p>

<p>I recommend using this, so heres a simple layout(SVGFile) for using 
IIDX buttons on your controller. SVG files are openable with the <a href="https://www.inkscape.org/en/">Inkscape</a> program. Or you can use this <a href="https://www.dropbox.com/s/ugi7h70ideesi0s/controller.psd?dl=0">PSD</a> All graphics are from <a href="http://homingpuyo.blog91.fc2.com/blog-entry-654.html">Homingpuyo</a><br>
<a href="https://www.dropbox.com/s/nbo3bgdpvxhrqyz/SDVXIIDXmode.svg?dl=0"><img src="Pancake.io_files/SDVXIIDXmode.png" alt="SVGFILE LAYOUT"></a></p>

<p>And the full Arcade button size SVG is here. <br>
<a href="https://www.dropbox.com/s/n1hra07a2bym3l5/SDVXLayout.svg?dl=0"><img src="Pancake.io_files/SDVXLayout.png" alt="SVGFILE LAYOUT"></a></p>

<hr>

<h1><a name="Graphics"></a>Graphics</h1>

<p>Here are a few templates for creating custom Controller art, so you can play on your waifu.</p>

<p>ADD LINKS HERE</p>

<hr>

<h1>Troubleshooting</h1>

<p>Q: Help! My controller isnt working!</p>

<p>A: Don't be a dingus.</p>

<p>Q: Why are your tutorials so shit.</p>

<p>A: I'm a dingus.</p>

<hr>

<h2><a name="Gallery"></a>Gallery</h2>

<p>Send in images of your controller!</p>

<p>! </p>

<hr>

<h2>Credits</h2>

<p>Thanks to the Bemani community first and foremost!</p>

<p>Thanks to the INSERTNAME HERE from /PSUN/ for posting the Code</p>

<p><a href="http://homingpuyo.blog91.fc2.com/blog-entry-654.html">Homingpuyo's</a> Write up and Graphics </p>

    </div>


<footer>
  <a href="http://pancake.io/">Get your own free Dropbox-powered website at <span>Pancake.io</span></a> 
</footer>

  </div>


</body></html>
